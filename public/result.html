<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Kundli Result</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 p-6">
    <div class="max-w-4xl mx-auto bg-white p-8 rounded-2xl shadow-xl">
      <h1 class="text-3xl font-bold mb-6 text-center text-indigo-700">
        Kundli Result
      </h1>

      <div id="result" class="space-y-6 text-lg"></div>

      <div class="mt-6 text-center">
        <a
          href="index.html"
          class="inline-block px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow hover:bg-indigo-700 transition"
        >
          ‚Üê Back
        </a>
      </div>
    </div>

    <script>
      const data = JSON.parse(localStorage.getItem('kundliData'));

      function row(label, value) {
        if (!value) return '';
        return `
          <div class="flex justify-between py-2 px-4 bg-gray-50 rounded-md shadow-sm hover:bg-gray-100 transition">
            <span class="font-medium text-gray-700">${label}</span>
            <span class="text-gray-900">${value}</span>
          </div>
        `;
      }

      if (!data) {
        document.getElementById('result').innerHTML =
          '<p class="text-red-500 font-semibold text-center">No data found!</p>';
      } else {
        const api = data.api || {};

        const nakshatra = api.nakshatra || {};
        const chandra = api.chandra_rasi || {};
        const soorya = api.soorya_rasi || {};
        const zodiac = api.zodiac || {};
        const additional = api.additional_info || {};

        function section(title, content) {
          return `
            <div class="bg-white p-4 rounded-lg shadow-md">
              <h2 class="text-xl font-semibold text-indigo-600 mb-3">${title}</h2>
              <div class="space-y-2">${content}</div>
            </div>
          `;
        }

        document.getElementById('result').innerHTML = `
          ${section(
            'Personal Details',
            `
            ${row('Name', data.name)}
            ${row('Date of Birth', data.dob)}
            ${row('Time of Birth', data.tob)}
            ${row('Place', data.place)}
          `
          )}

          ${section(
            'Zodiac',
            `
            ${row('Sun Sign (Soorya Rasi)', soorya.name)}
            ${row('Moon Sign (Chandra Rasi)', chandra.name)}
            ${row('Western Zodiac', zodiac.name)}
          `
          )}

          ${section(
            'Nakshatra',
            `
            ${row('Nakshatra', nakshatra.name)}
            ${row('Pada', nakshatra.pada)}
            ${row('Nakshatra Lord', nakshatra.lord ? nakshatra.lord.name : '')}
          `
          )}

          ${section(
            'Additional Info',
            `
            ${row('Deity', additional.deity)}
            ${row('Gana', additional.ganam)}
            ${row('Symbol', additional.symbol)}
            ${row('Animal Sign', additional.animal_sign)}
            ${row('Nadi', additional.nadi)}
            ${row('Color', additional.color)}
            ${row('Best Direction', additional.best_direction)}
            ${row('Syllables', additional.syllables)}
            ${row('Birth Stone', additional.birth_stone)}
            ${row('Planet', additional.planet)}
            ${row('Enemy Yoni', additional.enemy_yoni)}
          `
          )}
        `;
      }
    </script>
  </body>
</html>
