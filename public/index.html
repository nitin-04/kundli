<!DOCTYPE html>
<html>
  <head>
    <title>Kundli Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .error-msg {
        display: none;
        animation: fadeIn 0.3s ease-in-out;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(-5px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .loader {
        border-top-color: #ea580c;
        -webkit-animation: spinner 1.5s linear infinite;
        animation: spinner 1.5s linear infinite;
      }
      @keyframes spinner {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body
    class="bg-gradient-to-br from-orange-100 to-purple-100 flex items-center justify-center min-h-screen p-4"
  >
    <form
      id="kundliForm"
      method="POST"
      action="/generate"
      class="bg-white p-8 rounded-3xl shadow-2xl w-full max-w-md space-y-6"
      novalidate
    >
      <h2 class="text-3xl font-bold text-center text-orange-700 mb-6">
        Kundli Generator
      </h2>

      <div>
        <input
          type="text"
          id="name"
          name="name"
          placeholder="Name"
          class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 transition"
        />
        <p id="nameError" class="error-msg text-red-500 text-sm mt-1 ml-1">
          Please enter a valid name.
        </p>
      </div>

      <div>
        <label class="text-gray-600 text-sm ml-1">Date of Birth</label>
        <input
          type="date"
          id="dob"
          name="dob"
          class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 transition"
        />
        <p id="dobError" class="error-msg text-red-500 text-sm mt-1 ml-1">
          Date is required.
        </p>
      </div>

      <div>
        <label class="text-gray-600 text-sm ml-1">Time of Birth</label>
        <input
          type="time"
          id="tob"
          name="tob"
          class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 transition"
        />
        <p id="tobError" class="error-msg text-red-500 text-sm mt-1 ml-1">
          Time is required.
        </p>
      </div>

      <div class="relative">
        <input
          type="text"
          id="place"
          name="place"
          placeholder="Place of Birth (e.g. New Delhi)"
          class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 transition"
        />
        <div
          id="placeLoader"
          class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-6 w-6 absolute right-3 top-3 hidden"
        ></div>

        <p id="placeError" class="error-msg text-red-500 text-sm mt-1 ml-1">
          Please enter a city name.
        </p>
        <p id="apiError" class="error-msg text-red-500 text-sm mt-1 ml-1">
          Location not found. Please check spelling.
        </p>
      </div>

      <button
        type="submit"
        id="submitBtn"
        class="w-full bg-orange-600 hover:bg-orange-700 text-white font-semibold p-3 rounded-xl shadow-lg transition disabled:bg-gray-400"
      >
        Generate
      </button>
    </form>

    <script src="validate.js"></script>
  </body>
</html>
